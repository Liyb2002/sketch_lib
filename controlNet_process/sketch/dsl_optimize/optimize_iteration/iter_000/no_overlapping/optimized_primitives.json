{
  "source_ply": "/home/yli581/Desktop/sketch_lib/controlNet_process/sketch/clusters/labeled_clusters.ply",
  "source_cluster_ids": "/home/yli581/Desktop/sketch_lib/controlNet_process/sketch/clusters/final_cluster_ids.npy",
  "neighbor_dist_thresh": 0.02,
  "distance_mode": "aabb_min_distance_approx",
  "primitives": [
    {
      "cluster_id": 0,
      "label": "fender_0_0",
      "members": [
        0,
        4,
        6,
        9,
        12,
        17
      ],
      "parameters": {
        "center": [
          -0.021682128310203552,
          0.01106969267129898,
          0.9175739586353302
        ],
        "extent": [
          0.31704041361808777,
          0.13768981397151947,
          0.20857805013656616
        ],
        "rotation": [
          [
            0.1864436250730027,
            -0.2393462538956772,
            0.9528652294085158
          ],
          [
            -0.5136225768179598,
            0.8030327021185287,
            0.30220907979591427
          ],
          [
            -0.8375145510691241,
            -0.5457580508561649,
            0.02678668835752386
          ]
        ],
        "aabb_min_before_opt": [
          -0.18874819931983502,
          -0.10700274609780142,
          0.7599626682031411
        ],
        "aabb_max_before_opt": [
          0.1506115617273042,
          0.1742375702696632,
          1.041898369422304
        ],
        "aabb_min": [
          -0.18020233511924744,
          -0.057775214314460754,
          0.8132849335670471
        ],
        "aabb_max": [
          0.13683807849884033,
          0.07991459965705872,
          1.0218629837036133
        ],
        "center_before_opt": [
          -0.01906831879626541,
          0.03361741208593089,
          0.9009305188127226
        ],
        "extent_before_opt": [
          0.3393597610471392,
          0.2812403163674646,
          0.2819357012191629
        ]
      },
      "point_count": 16846
    },
    {
      "cluster_id": 2,
      "label": "wheel_1_0",
      "members": [
        1,
        11,
        16
      ],
      "parameters": {
        "center": [
          0.0004345253109931946,
          0.06671423465013504,
          1.1852169036865234
        ],
        "extent": [
          0.1881081908941269,
          0.12852691113948822,
          0.10745048522949219
        ],
        "rotation": [
          [
            0.1412029140133902,
            -0.9427983221296451,
            -0.3019818883040061
          ],
          [
            -0.1943967744110996,
            0.2726936611755207,
            -0.9422568976947054
          ],
          [
            0.9707067688919694,
            0.191753724720581,
            -0.14477181315123622
          ]
        ],
        "aabb_min_before_opt": [
          -0.09761350301738919,
          -0.0013260233855791198,
          1.0999328321406974
        ],
        "aabb_max_before_opt": [
          0.0984825586417086,
          0.13265547087568902,
          1.2438972333975251
        ],
        "aabb_min": [
          -0.09361957013607025,
          0.00245077908039093,
          1.1314916610717773
        ],
        "aabb_max": [
          0.09448862075805664,
          0.13097769021987915,
          1.2389421463012695
        ],
        "center_before_opt": [
          0.0004345278121597098,
          0.06566472374505494,
          1.1719150327691112
        ],
        "extent_before_opt": [
          0.1960960616590978,
          0.13398149426126812,
          0.14396440125682755
        ]
      },
      "point_count": 8611
    },
    {
      "cluster_id": 3,
      "label": "seat_0_0",
      "members": [
        2,
        14,
        19
      ],
      "parameters": {
        "center": [
          -0.011918425559997559,
          -0.0803060457110405,
          1.0735903978347778
        ],
        "extent": [
          0.2444440722465515,
          0.0988127738237381,
          0.08430695533752441
        ],
        "rotation": [
          [
            0.06844979304903129,
            -0.9970909030787486,
            -0.03353143046681072
          ],
          [
            0.3691036068196419,
            -0.005915228895203614,
            0.929369430043752
          ],
          [
            -0.9268641503825013,
            -0.07599171707971286,
            0.3676249524597058
          ]
        ],
        "aabb_min_before_opt": [
          -0.13981725176201862,
          -0.1382496354463081,
          1.0294789770554296
        ],
        "aabb_max_before_opt": [
          0.11598040394505764,
          -0.00871320663367428,
          1.1177018338551776
        ],
        "aabb_min": [
          -0.13414046168327332,
          -0.12971243262290955,
          1.0314369201660156
        ],
        "aabb_max": [
          0.1103036105632782,
          -0.030899658799171448,
          1.11574387550354
        ],
        "center_before_opt": [
          -0.011918423908480486,
          -0.0734814210399912,
          1.0735904054553036
        ],
        "extent_before_opt": [
          0.25579765570707624,
          0.12953642881263383,
          0.08822285679974827
        ]
      },
      "point_count": 8690
    },
    {
      "cluster_id": 4,
      "label": "wheel_0_0",
      "members": [
        3,
        10,
        13
      ],
      "parameters": {
        "center": [
          0.02278086170554161,
          0.14911501109600067,
          0.8840149641036987
        ],
        "extent": [
          0.2079773023724556,
          0.13260969519615173,
          0.11086487770080566
        ],
        "rotation": [
          [
            0.19412504427534635,
            0.18927572744548807,
            0.9625435918362744
          ],
          [
            0.47728705249917563,
            0.8390164469893784,
            -0.26124408356548257
          ],
          [
            -0.8570370684525518,
            0.5101236131383265,
            0.07253525085746254
          ]
        ],
        "aabb_min_before_opt": [
          -0.0844729113572214,
          0.029972482095019265,
          0.8262041262894978
        ],
        "aabb_max_before_opt": [
          0.12888303975387447,
          0.23225392095742128,
          0.9418258317040414
        ],
        "aabb_min": [
          -0.08120778948068619,
          0.0828101634979248,
          0.8285825252532959
        ],
        "aabb_max": [
          0.1267695128917694,
          0.21541985869407654,
          0.9394474029541016
        ],
        "center_before_opt": [
          0.02220506419832654,
          0.13111320152622027,
          0.8840149789967696
        ],
        "extent_before_opt": [
          0.21335595111109587,
          0.20228143886240202,
          0.11562170541454374
        ]
      },
      "point_count": 11391
    },
    {
      "cluster_id": 6,
      "label": "handlebar_0_0",
      "members": [
        7,
        18
      ],
      "parameters": {
        "center": [
          0.033864013850688934,
          -0.11036442965269089,
          0.822516918182373
        ],
        "extent": [
          0.24703367054462433,
          0.07120014727115631,
          0.04812300205230713
        ],
        "rotation": [
          [
            0.9960566365311789,
            -0.08859950903847127,
            0.00461560617222137
          ],
          [
            -0.033551575100583694,
            -0.4243348030051626,
            -0.9048835653092834
          ],
          [
            0.08213080195922295,
            0.9011604196571839,
            -0.42563414972582175
          ]
        ],
        "aabb_min_before_opt": [
          -0.1330485324229881,
          -0.1482636220972821,
          0.7963291160924625
        ],
        "aabb_max_before_opt": [
          0.16667016544056779,
          -0.04121349946274391,
          0.8496176976365205
        ],
        "aabb_min": [
          -0.08965282142162323,
          -0.14596450328826904,
          0.7984554171562195
        ],
        "aabb_max": [
          0.1573808491230011,
          -0.07476435601711273,
          0.8465784192085266
        ],
        "center_before_opt": [
          0.016810816508789864,
          -0.09473856078001301,
          0.8229734068644915
        ],
        "extent_before_opt": [
          0.29971869786355587,
          0.1070501226345382,
          0.05328858154405801
        ]
      },
      "point_count": 3977
    },
    {
      "cluster_id": 7,
      "label": "headlight_0_0",
      "members": [
        8
      ],
      "parameters": {
        "center": [
          0.029269546270370483,
          -0.06583051942288876,
          0.8074204325675964
        ],
        "extent": [
          0.06761190295219421,
          0.019592244178056717,
          0.06348681449890137
        ],
        "rotation": [
          [
            -0.6193451209185009,
            0.15127490363542137,
            0.770407375824337
          ],
          [
            0.26701069169930636,
            0.9633563142388971,
            0.02549318211415179
          ],
          [
            -0.7383203313689156,
            0.22149608426819045,
            -0.6370420495863308
          ]
        ],
        "aabb_min_before_opt": [
          -0.011082160525628028,
          -0.11302651037926051,
          0.771600261767705
        ],
        "aabb_max_before_opt": [
          0.07128676902208483,
          -0.05473119949743548,
          0.8532224340654927
        ],
        "aabb_min": [
          -0.0045364052057266235,
          -0.07562664151191711,
          0.7756770253181458
        ],
        "aabb_max": [
          0.06307549774646759,
          -0.0560343973338604,
          0.8391638398170471
        ],
        "center_before_opt": [
          0.030102304248228406,
          -0.083878854938348,
          0.8124113479165989
        ],
        "extent_before_opt": [
          0.08236892954771287,
          0.05829531088182503,
          0.08162217229778758
        ]
      },
      "point_count": 1086
    },
    {
      "cluster_id": 14,
      "label": "unknown_6_0",
      "members": [
        26
      ],
      "parameters": {
        "center": [
          -0.0010455548763275146,
          0.05355912633240223,
          1.0758261680603027
        ],
        "extent": [
          0.3642045557498932,
          0.17253133282065392,
          0.1146552562713623
        ],
        "rotation": [
          [
            -0.03171800712457621,
            0.020558924893870015,
            -0.9992853939847484
          ],
          [
            -0.022029171165539933,
            -0.9995599448731073,
            -0.01986535232585711
          ],
          [
            -0.9992540636103536,
            0.021383339600710222,
            0.032156945528392766
          ]
        ],
        "aabb_min_before_opt": [
          -0.18576747336990493,
          -0.14205899253757232,
          1.0033467836706467
        ],
        "aabb_max_before_opt": [
          0.18367635371074834,
          0.17009148578881322,
          1.1568524889769423
        ],
        "aabb_min": [
          -0.1831478327512741,
          -0.03270654007792473,
          1.0184985399246216
        ],
        "aabb_max": [
          0.18105672299861908,
          0.1398247927427292,
          1.1331537961959839
        ],
        "center_before_opt": [
          -0.0010455598295782964,
          0.01401624662562044,
          1.0800996363237945
        ],
        "extent_before_opt": [
          0.36944382708065326,
          0.31215047832638554,
          0.15350570530629556
        ]
      },
      "point_count": 22436
    },
    {
      "cluster_id": 15,
      "label": "unknown_7_0",
      "members": [
        27
      ],
      "parameters": {
        "center": [
          0.08103067427873611,
          -0.08576357364654541,
          0.8647409081459045
        ],
        "extent": [
          0.11543448269367218,
          0.057405173778533936,
          0.038565874099731445
        ],
        "rotation": [
          [
            0.8228207704236997,
            0.2715209506435495,
            0.4992417782207059
          ],
          [
            -0.0808504876201561,
            -0.8136170222383254,
            0.5757521513425922
          ],
          [
            0.5625203804405067,
            -0.5141047699503121,
            -0.647508383809356
          ]
        ],
        "aabb_min_before_opt": [
          -0.024251283675301397,
          -0.1360615668140437,
          0.803497358507233
        ],
        "aabb_max_before_opt": [
          0.1698731827924595,
          -0.030658943434717242,
          0.8998350538588428
        ],
        "aabb_min": [
          0.023313432931900024,
          -0.11446616053581238,
          0.8454579710960388
        ],
        "aabb_max": [
          0.1387479156255722,
          -0.05706098675727844,
          0.8840238451957703
        ],
        "center_before_opt": [
          0.07281094955857904,
          -0.08336025512438047,
          0.8516662061830379
        ],
        "extent_before_opt": [
          0.19412446646776088,
          0.10540262337932646,
          0.09633769535160976
        ]
      },
      "point_count": 585
    },
    {
      "cluster_id": 16,
      "label": "unknown_8_0",
      "members": [
        28
      ],
      "parameters": {
        "center": [
          0.03361847251653671,
          0.08882964216172695,
          0.805255115032196
        ],
        "extent": [
          0.08588093519210815,
          0.07474328950047493,
          0.018042802810668945
        ],
        "rotation": [
          [
            -0.7243831927402575,
            -0.043820793283851384,
            -0.6880034361479637
          ],
          [
            0.11540689985899519,
            -0.9916029229505052,
            -0.05835144095007583
          ],
          [
            -0.679669211852624,
            -0.12166914675458311,
            0.7233577131597098
          ]
        ],
        "aabb_min_before_opt": [
          -0.012141993786802793,
          0.04866274925197657,
          0.7962123143194157
        ],
        "aabb_max_before_opt": [
          0.07676489066058094,
          0.12625516881600257,
          0.8218665352300563
        ],
        "aabb_min": [
          -0.009321995079517365,
          0.05145799741148949,
          0.7962337136268616
        ],
        "aabb_max": [
          0.07655894011259079,
          0.12620128691196442,
          0.8142765164375305
        ],
        "center_before_opt": [
          0.03231144843688907,
          0.08745895903398958,
          0.809039424774736
        ],
        "extent_before_opt": [
          0.08890688444738373,
          0.07759241956402602,
          0.025654220910640527
        ]
      },
      "point_count": 394
    },
    {
      "cluster_id": 17,
      "label": "unknown_9_0",
      "members": [
        29
      ],
      "parameters": {
        "center": [
          -0.10908693075180054,
          -0.08792813681066036,
          0.8286528587341309
        ],
        "extent": [
          0.041458457708358765,
          0.0629144199192524,
          0.03194105625152588
        ],
        "rotation": [
          [
            0.8886924591395565,
            -0.4581397087444283,
            -0.018268014124643392
          ],
          [
            0.011561346848679169,
            -0.017439075965371136,
            0.9997810829819289
          ],
          [
            -0.4583579914515862,
            -0.888709112083951,
            -0.010201263226840021
          ]
        ],
        "aabb_min_before_opt": [
          -0.14394232319010788,
          -0.1440998576686573,
          0.8016854025308677
        ],
        "aabb_max_before_opt": [
          0.022712200649443376,
          -0.02784109073782999,
          0.8506474667208868
        ],
        "aabb_min": [
          -0.12981615960597992,
          -0.11938534677028656,
          0.8126823306083679
        ],
        "aabb_max": [
          -0.08835770189762115,
          -0.056470926851034164,
          0.8446233868598938
        ],
        "center_before_opt": [
          -0.060615061270332254,
          -0.08597047420324364,
          0.8261664346258772
        ],
        "extent_before_opt": [
          0.16665452383955126,
          0.11625876693082729,
          0.04896206419001912
        ]
      },
      "point_count": 1027
    }
  ],
  "optimization": {
    "method": "no_overlapping_shrink_only_density_aware_mid_half",
    "never_expand": true,
    "params": {
      "steps": 1200,
      "lr": 0.01,
      "overlap_tol_ratio": 0.02,
      "overlap_scale_ratio": 0.01,
      "r_min": 0.7,
      "extent_floor": 0.001,
      "min_points": 10,
      "device": "cuda",
      "heat_map_dir": "/home/yli581/Desktop/sketch_lib/controlNet_process/sketch/dsl_optimize/optimize_iteration/iter_000/heat_map",
      "density_gamma": 2.0,
      "density_eps": 0.05,
      "density_default": 0.0,
      "show_windows": true,
      "max_boxes_to_show": 80,
      "pcd_max_points": 250000
    },
    "weights": {
      "w_overlap": 1.0,
      "w_cut": 50.0,
      "w_size": 2.0,
      "w_floor": 10.0
    },
    "note": "Density-aware: cut/size penalties weighted by mean heat inside original AABB using saved per-label heatmap PLYs. Vis: blue=before, red=after."
  }
}