{
  "source_ply": "/home/yli581/Desktop/sketch_lib/controlNet_process/sketch/clusters/labeled_clusters.ply",
  "source_cluster_ids": "/home/yli581/Desktop/sketch_lib/controlNet_process/sketch/clusters/final_cluster_ids.npy",
  "neighbor_dist_thresh": 0.02,
  "primitives": [
    {
      "cluster_id": 0,
      "label": "seat_0_0",
      "members": [
        0,
        7
      ],
      "parameters": {
        "center": [
          -0.017522990703582764,
          -0.07924292981624603,
          1.077774167060852
        ],
        "extent": [
          0.24514833092689514,
          0.11502805352210999,
          0.09125399589538574
        ],
        "rotation": [
          [
            0.1207670904724106,
            -0.992418594990629,
            0.022817584790126286
          ],
          [
            0.36771309296243065,
            0.06607391370909828,
            0.9275889818185454
          ],
          [
            -0.9220642011936216,
            -0.10363189781138167,
            0.3729048653922069
          ]
        ],
        "aabb_min_before_opt": [
          -0.1405011130864917,
          -0.13698762088671615,
          1.0257041090242214
        ],
        "aabb_max_before_opt": [
          0.11997634119135171,
          -0.014762152509234294,
          1.1235388338600827
        ],
        "aabb_min": [
          -0.14009715616703033,
          -0.13675695657730103,
          1.0321471691131592
        ],
        "aabb_max": [
          0.10505117475986481,
          -0.02172890305519104,
          1.123401165008545
        ],
        "center_before_opt": [
          -0.010262385947569995,
          -0.07587488669797522,
          1.074621471442152
        ],
        "extent_before_opt": [
          0.2604774542778434,
          0.12222546837748186,
          0.09783472483586139
        ]
      },
      "point_count": 8521
    },
    {
      "cluster_id": 1,
      "label": "fender_0_0",
      "members": [
        1,
        4,
        6,
        9,
        14,
        17,
        20
      ],
      "parameters": {
        "center": [
          0.019909381866455078,
          -0.022249795496463776,
          0.9420294165611267
        ],
        "extent": [
          0.28751277923583984,
          0.18642398715019226,
          0.185036301612854
        ],
        "rotation": [
          [
            0.1479188080889188,
            -0.4422967828828054,
            -0.8845866730089678
          ],
          [
            -0.8815529647057533,
            -0.4644075146262771,
            0.08479404918472429
          ],
          [
            -0.4483128334456318,
            0.7672673694418164,
            -0.45860264626121
          ]
        ],
        "aabb_min_before_opt": [
          -0.1263500807956644,
          -0.12923020523939566,
          0.7713122690627747
        ],
        "aabb_max_before_opt": [
          0.1651833128549806,
          0.15425938853937504,
          1.034608208536748
        ],
        "aabb_min": [
          -0.12384700775146484,
          -0.1154617890715599,
          0.8495112657546997
        ],
        "aabb_max": [
          0.163665771484375,
          0.07096219807863235,
          1.0345475673675537
        ],
        "center_before_opt": [
          0.01941661602965811,
          0.0125145916499897,
          0.9029602387997614
        ],
        "extent_before_opt": [
          0.291533393650645,
          0.2834895937787707,
          0.2632959394739734
        ]
      },
      "point_count": 17173
    },
    {
      "cluster_id": 2,
      "label": "fender_0_1",
      "members": [
        3,
        11
      ],
      "parameters": {
        "center": [
          -0.0006759762763977051,
          -0.017647509463131428,
          1.2257084846496582
        ],
        "extent": [
          0.18316812813282013,
          0.0739187952131033,
          0.08953619003295898
        ],
        "rotation": [
          [
            -0.013682663141081824,
            0.9518552573126875,
            0.3062423123207591
          ],
          [
            -0.9932316909184726,
            0.022390783346836668,
            -0.11397131646316426
          ],
          [
            -0.11534120202511934,
            -0.30572900082804166,
            0.9451064411843187
          ]
        ],
        "aabb_min_before_opt": [
          -0.09718456283862488,
          -0.05470111864593407,
          1.1784408799434718
        ],
        "aabb_max_before_opt": [
          0.09101517830261817,
          0.052498950263753584,
          1.2705466630318794
        ],
        "aabb_min": [
          -0.09226004034280777,
          -0.054606907069683075,
          1.1809403896331787
        ],
        "aabb_max": [
          0.09090808779001236,
          0.01931188814342022,
          1.2704765796661377
        ],
        "center_before_opt": [
          -0.003084692268003354,
          -0.001101084191090244,
          1.2244937714876756
        ],
        "extent_before_opt": [
          0.18819974114124305,
          0.10720006890968765,
          0.09210578308840761
        ]
      },
      "point_count": 2023
    },
    {
      "cluster_id": 3,
      "label": "wheel_0_0",
      "members": [
        2,
        10,
        15,
        21
      ],
      "parameters": {
        "center": [
          0.006471678614616394,
          0.1301984190940857,
          0.9296208620071411
        ],
        "extent": [
          0.31617817282676697,
          0.12097635865211487,
          0.10961461067199707
        ],
        "rotation": [
          [
            0.1991458284343794,
            -0.00600920860789806,
            -0.9799514418730613
          ],
          [
            0.4019377860869445,
            -0.911498622835211,
            0.08727128213243819
          ],
          [
            -0.893748821052487,
            -0.4112592247979622,
            -0.17910582035732087
          ]
        ],
        "aabb_min_before_opt": [
          -0.15396727917553976,
          0.014788464361390113,
          0.8735177286066672
        ],
        "aabb_max_before_opt": [
          0.16842028686440258,
          0.1982727740843457,
          0.9857240271933753
        ],
        "aabb_min": [
          -0.1516174077987671,
          0.06971023976802826,
          0.8748135566711426
        ],
        "aabb_max": [
          0.16456076502799988,
          0.19068659842014313,
          0.9844281673431396
        ],
        "center_before_opt": [
          0.0072265038444314054,
          0.10653061922286791,
          0.9296208779000212
        ],
        "extent_before_opt": [
          0.32238756603994234,
          0.1834843097229556,
          0.11220629858670808
        ]
      },
      "point_count": 11596
    },
    {
      "cluster_id": 4,
      "label": "wheel_0_1",
      "members": [
        12
      ],
      "parameters": {
        "center": [
          -0.016307642683386803,
          0.05873250588774681,
          1.2323442697525024
        ],
        "extent": [
          0.11056612804532051,
          0.08220144361257553,
          0.04029512405395508
        ],
        "rotation": [
          [
            -0.004945253104955408,
            0.9429725437866223,
            0.3328337815431523
          ],
          [
            0.972576657273467,
            0.08193119156285719,
            -0.2176738973231736
          ],
          [
            -0.23252997698898317,
            0.32262991416432124,
            -0.9175182550161199
          ]
        ],
        "aabb_min_before_opt": [
          -0.07176899488212245,
          0.011834486764606439,
          1.200384959313193
        ],
        "aabb_max_before_opt": [
          0.04416376677929658,
          0.09990842367038977,
          1.2525108701542833
        ],
        "aabb_min": [
          -0.07159070670604706,
          0.017631784081459045,
          1.212196707725525
        ],
        "aabb_max": [
          0.03897542133927345,
          0.09983322769403458,
          1.25249183177948
        ],
        "center_before_opt": [
          -0.01380261405141293,
          0.0558714552174981,
          1.2264479147337382
        ],
        "extent_before_opt": [
          0.11593276166141903,
          0.08807393690578333,
          0.05212591084109028
        ]
      },
      "point_count": 1209
    },
    {
      "cluster_id": 5,
      "label": "handlebar_0_0",
      "members": [
        5,
        18
      ],
      "parameters": {
        "center": [
          0.016804546117782593,
          -0.11826524138450623,
          0.8230687379837036
        ],
        "extent": [
          0.29568684101104736,
          0.059434860944747925,
          0.057521820068359375
        ],
        "rotation": [
          [
            0.9934385964503145,
            -0.11093187843836354,
            0.027818580642537203
          ],
          [
            -0.03284120635112495,
            -0.5097006076575548,
            -0.8597248081327666
          ],
          [
            0.10955003536390143,
            0.8531702109776546,
            -0.5099993929919059
          ]
        ],
        "aabb_min_before_opt": [
          -0.13287669805244284,
          -0.14838596939863868,
          0.7936725164950644
        ],
        "aabb_max_before_opt": [
          0.16648578074759623,
          -0.0431496533595082,
          0.8520708773941219
        ],
        "aabb_min": [
          -0.1310388743877411,
          -0.1479826718568802,
          0.7943078279495239
        ],
        "aabb_max": [
          0.16464796662330627,
          -0.08854781091213226,
          0.8518296480178833
        ],
        "center_before_opt": [
          0.016804541347576703,
          -0.09576781137907345,
          0.8228716969445932
        ],
        "extent_before_opt": [
          0.2993624788000391,
          0.1052363160391305,
          0.05839836089905737
        ]
      },
      "point_count": 3830
    },
    {
      "cluster_id": 6,
      "label": "wheel_1_0",
      "members": [
        8,
        13,
        16
      ],
      "parameters": {
        "center": [
          -0.0129576176404953,
          0.07959325984120369,
          1.1664427518844604
        ],
        "extent": [
          0.20306317508220673,
          0.1290513500571251,
          0.09318804740905762
        ],
        "rotation": [
          [
            0.26323148471511015,
            -0.8195171458148385,
            0.5090194821126
          ],
          [
            -0.27594812817015585,
            -0.5695427607918772,
            -0.7742568528524327
          ],
          [
            0.9244251273164669,
            0.06334580763608035,
            -0.376065808922942
          ]
        ],
        "aabb_min_before_opt": [
          -0.11458144953270732,
          -0.022301086273818743,
          1.1197614584640392
        ],
        "aabb_max_before_opt": [
          0.09251274610250221,
          0.1442491951846093,
          1.2339224231879897
        ],
        "aabb_min": [
          -0.11448920518159866,
          0.015067584812641144,
          1.1198487281799316
        ],
        "aabb_max": [
          0.08857396990060806,
          0.14411893486976624,
          1.2130367755889893
        ],
        "center_before_opt": [
          -0.011034351715102562,
          0.06097405445539528,
          1.1768419408260145
        ],
        "extent_before_opt": [
          0.20709419563520953,
          0.16655028145842804,
          0.11416096472395075
        ]
      },
      "point_count": 8822
    },
    {
      "cluster_id": 7,
      "label": "headlight_0_0",
      "members": [
        19
      ],
      "parameters": {
        "center": [
          0.011565294116735458,
          -0.06978821568191051,
          0.8112536072731018
        ],
        "extent": [
          0.08613667637109756,
          0.04035625234246254,
          0.0765385627746582
        ],
        "rotation": [
          [
            -0.8863610933195836,
            0.36995279340134135,
            0.27838631953430576
          ],
          [
            -0.2858241146504203,
            -0.9102446035950508,
            0.29959862668308795
          ],
          [
            0.3642369939114034,
            0.18598304299218577,
            0.9125468316671483
          ]
        ],
        "aabb_min_before_opt": [
          -0.03245404668183844,
          -0.11111367917390855,
          0.7727439545830539
        ],
        "aabb_max_before_opt": [
          0.05558463495579948,
          -0.04933063703814818,
          0.8511136806518611
        ],
        "aabb_min": [
          -0.031503044068813324,
          -0.08996634185314178,
          0.7729843258857727
        ],
        "aabb_max": [
          0.05463363230228424,
          -0.049610089510679245,
          0.8495228886604309
        ],
        "center_before_opt": [
          0.011565294136980521,
          -0.08022215810602837,
          0.8119288176174575
        ],
        "extent_before_opt": [
          0.08803868163763792,
          0.06178304213576037,
          0.07836972606880732
        ]
      },
      "point_count": 852
    }
  ],
  "optimization": {
    "method": "no_overlapping_shrink_only_size_max_mid_half",
    "never_expand": true,
    "params": {
      "steps": 1200,
      "lr": 0.01,
      "overlap_tol_ratio": 0.02,
      "overlap_scale_ratio": 0.01,
      "r_min": 0.7,
      "extent_floor": 0.001,
      "min_points": 10,
      "device": "cuda"
    },
    "weights": {
      "w_overlap": 1.0,
      "w_cut": 50.0,
      "w_size": 2.0,
      "w_floor": 10.0
    },
    "note": "Uses mid/half parameterization to guarantee non-negative extents and ordered mins/maxs."
  }
}